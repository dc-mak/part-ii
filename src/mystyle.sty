\ProvidesPackage{src/mystyle}

\usepackage{adjustbox} % Rotated table headers
\usepackage{array} % Rotated table headers
\usepackage{amssymb}  % Explaining triangle for defs, square for proofs in Eval
\usepackage{booktabs} % Nice tables
\usepackage[format=hang,font=small,labelfont=sf,labelsep=endash]{caption} % Nice captions
\usepackage[headheight=15pt, top=1.1in, bottom=1.25in, left=1.25in, right=1.25in]{geometry} % 15pt for fancyhdr
\usepackage{docmute}  % For including stand-alone LaTeX documents as is
\usepackage{enumitem} % For referrable enumerated lists
\usepackage{etoolbox} % For fixing minted red error box
\usepackage{fancyhdr} % Fancy headers
\usepackage[T1]{fontenc}
\usepackage[pdftitle={Exploring the structure of mathematical theories using graph databases},
            pdfauthor={Dhruv Makwana},
            pdfkeywords={mathematics, theorem, prover, graph, database, structure}]{hyperref} % (hyper)links
\usepackage[utf8x]{inputenc}
\usepackage[outputdir=build]{minted} % Source code highlighting
\usepackage{nameref}  % Refer to Chapters and sections by their title
\usepackage[dvipsnames]{xcolor}   % More colour names (load before pgf)
\usepackage{pgfplots} % Graphs
\usepackage[document]{ragged2e} % More readable, preserves hyphenation
\usepackage{sectsty}  % San-serif section headers
\usepackage{tocloft}  % Control (format) table of contents, figures
\usepackage{titlesec} % For customising chapter titles
\usepackage{minitoc}  % Per Chapter Mini Table of Contents (load after)

% Formatting to allow flexible pages 
\raggedbottom{}
\sloppy
% penalise orphan lines/paragraphs
\clubpenalty1000%
\widowpenalty1000%

% Paragraph formatting
\parindent0pt%
\parskip6pt%

% Remove ugly boxes around hyperlinks
\hypersetup{%
    colorlinks,
    linkcolor={black},
    citecolor={green!50!black},
    urlcolor={blue!80!black}
}

% Include pink book guidance or not
\newif\ifguidance%
\guidancefalse%
\newcommand{\guidance}[1]{%
  \ifguidance%
  \textsf{\color{red}{#1}}
  \newpage
  \fi%
}%

% Fancy (and smaller) chapter heading style
\titleformat{\chapter}[hang]{\sffamily\Huge\bfseries}{%
\thechapter\hspace{20pt}\textcolor{lightgray}{|}\hspace{20pt}}{0pt}{\sffamily\Huge\bfseries}%

% Formatting Section headers
\setlength{\cftparskip}{6pt}% Spacing in ToC
\renewcommand{\cfttoctitlefont}{\normalfont\Huge\sffamily\bfseries}% sans ToC Title
\renewcommand{\cftchapfont}{\normalfont\sffamily\bfseries}% sans ToC chapter font
\renewcommand{\cftsecfont}{\normalfont\sffamily}% sans ToC section font
\renewcommand{\cftsubsecfont}{\normalfont\sffamily}% sans ToC subsection font
\allsectionsfont{\normalfont\sffamily\bfseries}% sans Sub*sections font
\setcounter{secnumdepth}{3}% Number subsubsections
\renewcommand{\thesubsubsection}{\Roman{subsubsection}}% with captial roman

% At the start of each chapter
\renewcommand{\mtctitle}{}
\newcommand*{\prechapter}[1]{%
\minitoc%
\bigskip%
\begin{center}%
  \begin{minipage}[h][][c]{0.8\linewidth}%
	#1
  \end{minipage}%
\end{center}

\newpage%
}

% Fancy evaluation table with slanted columns
% http://tex.stackexchange.com/questions/32683/rotated-column-titles-in-tabular#32690
\newcolumntype{R}[2]{%
    >{\adjustbox{angle=#1,lap=\width-(#2)}\bgroup}%
    l%
    <{\egroup}%
}
\newcommand*\rot{\multicolumn{1}{R{90}{0.8em}}}%

% Fancy boxes for fancy evaluation table
\newcommand{\Y}{\tikz \fill [ForestGreen] (-0.3ex,0) rectangle (1.3ex,0.7em); }
\newcommand{\M}{\tikz \fill [YellowOrange]  (-0.3ex,0) rectangle (1.3ex,0.7em); }
\newcommand{\N}{\tikz \fill [Red]   (-0.3ex,0) rectangle (1.3ex,0.7em); }

% Magic incantation to stop minted from putting red boxes around shit
\makeatletter
\AtBeginEnvironment{minted}{\dontdofcolorbox}
\def\dontdofcolorbox{\renewcommand\fcolorbox[4][]{##4}}
\makeatother

% Graph colours
\definecolor{graphgreen}{RGB}{78,215,62}
\definecolor{graphblue}{RGB}{67,139,236}
\definecolor{graphpurple}{RGB}{229,67,242}
\definecolor{graphviolet}{RGB}{68,34,251}
\definecolor{graphorange}{RGB}{255,168,7}

